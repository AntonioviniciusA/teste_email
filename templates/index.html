<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sistema de Classifica√ß√£o de Emails</title>
    <link rel="stylesheet" href="../static/style.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Sistema de Classifica√ß√£o de Emails</h1>
        <p class="description">
          Classifique emails com crit√©rios personaliz√°veis e gere respostas
          autom√°ticas
        </p>
      </header>

      <div class="tab-buttons">
        <button class="tab-button active" data-tab="upload">
          Analisar Email
        </button>
        <button class="tab-button" data-tab="criteria">
          Gerenciar Crit√©rios
        </button>
      </div>

      <div class="tab-content active" id="upload-tab">
        <section class="upload-section">
          <h2 class="section-title">Enviar Email para An√°lise</h2>

          <form id="upload-form">
            <div class="upload-options">
              <div class="upload-option" id="file-option">
                <h3>Upload de Arquivo</h3>
                <p>Selecione um arquivo .txt ou .pdf</p>
                <input
                  type="file"
                  id="file-input"
                  class="file-input"
                  name="file"
                  accept=".txt,.pdf"
                />
                <div class="file-info" id="file-info">
                  Nenhum arquivo selecionado
                </div>
                <button type="button" class="btn" id="select-file-btn">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"
                    />
                    <path
                      d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"
                    />
                  </svg>
                  Selecionar Arquivo
                </button>
              </div>

              <div class="upload-option" id="text-option">
                <h3>Texto Direto</h3>
                <p>Cole o conte√∫do do email abaixo</p>
                <textarea
                  id="text-input"
                  class="text-input"
                  name="text"
                  placeholder="Cole o conte√∫do do email aqui..."
                ></textarea>
              </div>
            </div>

            <div class="btn-container">
              <button type="submit" class="btn" id="process-btn" disabled>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM7 11.5a.5.5 0 0 1-1 0V6.707L5.354 7.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L7 6.707V11.5z"
                  />
                </svg>
                Processar Email
              </button>
            </div>
          </form>

          <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Analisando o email...</p>
          </div>

          <div class="error-message" id="error-message">
            Ocorreu um erro ao processar o email. Tente novamente.
          </div>
        </section>

        <section class="result-section" id="result-section">
          <h2 class="section-title">Resultado da An√°lise</h2>

          <div class="result-container" id="result-container">
            <div class="classification">
              <span class="classification-label">Categoria:</span>
              <span class="classification-value" id="category-value"
                >Produtivo</span
              >
              <div class="score-display">
                Score: <span id="score-value">0</span>
              </div>
            </div>

            <div class="reasons">
              <h4>Raz√µes da Classifica√ß√£o:</h4>
              <ul class="reasons-list" id="reasons-list"></ul>
            </div>

            <div class="response-box">
              <div class="response-title">Resposta Autom√°tica Sugerida:</div>
              <div class="response-content" id="response-content">
                Obrigado pelo seu email. Analisaremos sua solicita√ß√£o e
                retornaremos em breve.
              </div>
            </div>

            <div class="processed-text">
              <strong>Texto processado:</strong>
              <span id="processed-text"></span>
            </div>
          </div>
        </section>
      </div>

      <div class="tab-content" id="criteria-tab">
        <section class="criteria-section">
          <h2 class="section-title">
            Gerenciar Crit√©rios de Classifica√ß√£o
            <button class="btn btn-secondary" id="reset-criteria-btn">
              Restaurar Padr√£o
            </button>
          </h2>

          <form id="criteria-form">
            <div class="criteria-form">
              <div class="criteria-group">
                <h4>üìà Palavras que Tornam Email Produtivo</h4>
                <textarea
                  class="criteria-textarea"
                  id="productive-keywords"
                  placeholder="Digite uma palavra por linha...&#10;Exemplo:&#10;reuni√£o&#10;projeto&#10;relat√≥rio&#10;prazo"
                ></textarea>
                <small
                  >Cada palavra adiciona pontos positivos na
                  classifica√ß√£o</small
                >
              </div>

              <div class="criteria-group">
                <h4>üìâ Palavras que Tornam Email Improdutivo</h4>
                <textarea
                  class="criteria-textarea"
                  id="unproductive-keywords"
                  placeholder="Digite uma palavra por linha...&#10;Exemplo:&#10;spam&#10;oferta&#10;promo√ß√£o&#10;gr√°tis"
                ></textarea>
                <small
                  >Cada palavra adiciona pontos negativos na
                  classifica√ß√£o</small
                >
              </div>

              <div class="criteria-group">
                <h4>üîó Combina√ß√µes Produtivas (Contexto)</h4>
                <div class="combinations-info">
                  <p>
                    O sistema automaticamente criar√° padr√µes quando estas
                    palavras aparecerem juntas:
                  </p>

                  <div class="combination-group">
                    <label>Quando aparecerem juntas:</label>
                    <input
                      type="text"
                      class="criteria-input combination-input"
                      id="combo-words-1"
                      placeholder="projeto, tarefa, atividade"
                      value="projeto, tarefa, atividade"
                    />
                    <label>Com estas a√ß√µes:</label>
                    <input
                      type="text"
                      class="criteria-input combination-input"
                      id="combo-actions-1"
                      placeholder="prazo, data, entrega"
                      value="prazo, data, entrega"
                    />
                  </div>

                  <div class="combination-group">
                    <label>Quando aparecerem juntas:</label>
                    <input
                      type="text"
                      class="criteria-input combination-input"
                      id="combo-words-2"
                      placeholder="reuni√£o, encontro"
                      value="reuni√£o, encontro"
                    />
                    <label>Com estas a√ß√µes:</label>
                    <input
                      type="text"
                      class="criteria-input combination-input"
                      id="combo-actions-2"
                      placeholder="agenda, agendar, marcar"
                      value="agenda, agendar, marcar"
                    />
                  </div>

                  <div class="combination-group">
                    <label>Quando aparecerem juntas:</label>
                    <input
                      type="text"
                      class="criteria-input combination-input"
                      id="combo-words-3"
                      placeholder="relat√≥rio, documento, an√°lise"
                      value="relat√≥rio, documento, an√°lise"
                    />
                    <label>Com estas a√ß√µes:</label>
                    <input
                      type="text"
                      class="criteria-input combination-input"
                      id="combo-actions-3"
                      placeholder="entregar, enviar, preparar"
                      value="entregar, enviar, preparar"
                    />
                  </div>
                </div>
                <small
                  >Estas combina√ß√µes d√£o mais pontos que palavras
                  isoladas</small
                >
              </div>

              <div class="criteria-group">
                <h4>‚öôÔ∏è Configura√ß√µes Gerais</h4>
                <div style="display: grid; gap: 15px">
                  <div>
                    <label>Comprimento M√≠nimo do Email (caracteres):</label>
                    <input
                      type="number"
                      class="criteria-input"
                      id="min-length"
                      min="1"
                      max="1000"
                      value="50"
                    />
                  </div>
                  <div>
                    <label>Comprimento M√°ximo do Email (caracteres):</label>
                    <input
                      type="number"
                      class="criteria-input"
                      id="max-length"
                      min="100"
                      max="10000"
                      value="5000"
                    />
                  </div>
                  <div>
                    <label>Pontos por palavra produtiva:</label>
                    <input
                      type="number"
                      class="criteria-input"
                      id="productive-weight"
                      min="1"
                      max="10"
                      value="2"
                    />
                  </div>
                  <div>
                    <label>Pontos por palavra improdutiva:</label>
                    <input
                      type="number"
                      class="criteria-input"
                      id="unproductive-weight"
                      min="1"
                      max="10"
                      value="3"
                    />
                  </div>
                </div>
              </div>
            </div>

            <div class="btn-container">
              <button type="submit" class="btn" id="save-criteria-btn">
                üíæ Salvar Crit√©rios
              </button>
            </div>
          </form>

          <div class="success-message" id="criteria-success-message">
            Crit√©rios salvos com sucesso!
          </div>

          <div class="error-message" id="criteria-error-message">
            Erro ao salvar crit√©rios.
          </div>
        </section>
      </div>
    </div>

    <script src="../static/script.js"></script>
  </body>
</html>
